
<div class="infos">
    <div style="width: 700px;">
        <h1>Payement</h1>
        <h3></h3><br>
        
        <form method="get" action="">
            <input class="form-control" id="formId" type="number" value='' hidden><br>
            <input class="form-control" name="date" type="date" value="2022-03-07"><br>
            <input class="form-control" name="adresse" type="text" placeholder="Adresse de livraison"><br>

            <div style=" padding: 40px;">
                <p>Coordonnées bancaires</p>
                <input class="form-control" name="nom" type="text" placeholder="Nom sur la carte"><br>
                <input class="form-control" name="carte" type="text" placeholder="N° de carte"><br>
                <input class="form-control" name="exp" type="text" placeholder="MM/AA"><br>
                <input class="form-control" name="cry" type="password" placeholder="Cryptogramme visuel"><br>

            </div>
        </form>

        <p class='prix btn btn-primary'> Payer @ViewData["total"] €</p>

    </div>  
    <img src='' class="imgPaywall">
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script>
    var id = @ViewData["id"]
    var number = @ViewData["number"]
    window.addEventListener("load", function(event) {
        $.ajax({
            type: "GET",
            url: "https://localhost:7189/api/Articles/" + id,
            dataType: 'json',
            data: JSON.stringify({}),
            contentType:'application/json; charset=utf-8 ',
            success: function (msg) {
                document.querySelector('.imgPaywall').setAttribute("src", msg.mediaPath)
                document.getElementById('formId').setAttribute("value", msg.id)
                document.querySelector(".infos h3").innerHTML = msg.designation + " X " + number
                document.querySelector(".infos .prix").innerHTML = "Payer " + (parseInt(msg.prix) * parseInt(number)) + " €"
                
            },
        });
    });
    
</script>